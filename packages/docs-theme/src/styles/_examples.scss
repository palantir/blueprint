// Copyright 2017 Palantir Technologies, Inc. All rights reserved.
// Licensed under the terms of the LICENSE file distributed with this project.

// Base styles for all examples

$example-frame-spacing: $pt-grid-size;
$example-frame-border-radius: $pt-border-radius * 2;
$example-spacing: $pt-grid-size * 4;

$example-background-color: $white;
$code-background-color: $light-gray4;
$options-background-color: $light-gray4;

$dark-example-background-color: $dark-gray3;
$dark-code-background-color: $dark-gray5;
$dark-options-background-color: $dark-gray5;

// full-bleed wrapper for example
.docs-example-frame {
  @include pt-flex-container(row, $fill: ".docs-example");
  position: relative;
  margin-top: $content-padding * 2;
  width: 100%;

  &:empty {
    display: none;
  }
}

.docs-example-wrapper {
  @include pt-flex-container(column, $example-frame-spacing, $fill: ".docs-example");
  flex: 1 1 auto;
  // explicit 0 width ensures options column takes up its space first,
  // then the rest is filled by this element
  width: 0;

  .editor {
    flex: 0 0 auto;
    margin: 0;
    border-radius: $example-frame-border-radius;
    box-shadow: none;
    background: $code-background-color;

    .#{$ns}-dark & {
      box-shadow: none;
      background: $dark-code-background-color;
    }
  }
}

.docs-example {
  display: flex;
  flex: 1 1 auto;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-around;
  border-radius: $example-frame-border-radius;
  background: $example-background-color;
  max-width: 100%;
  padding: $example-spacing / 2;

  > * {
    margin: $example-spacing / 2;
  }

  .#{$ns}-dark & {
    background: $dark-example-background-color;
  }
}

.docs-example-options {
  @include pt-flex-container(column, $pt-grid-size * 2);
  flex: 0 0 auto;
  border-radius: $example-frame-border-radius;
  background-color: $options-background-color;
  max-width: $pt-grid-size * 30;
  padding: $pt-grid-size * 2;
  text-align: left;
  margin-left: $example-frame-spacing;

  // hide when empty (div is always rendered)
  &:empty {
    display: none;
  }

  .#{$ns}-label:last-child,
  .#{$ns}-control:last-child {
    margin-bottom: 0;
  }

  .docs-prop-description {
    font-size: $pt-font-size-small;
  }

  .#{$ns}-dark & {
    background-color: $dark-options-background-color;
  }
}

.docs-example-view-source {
  display: block;
  margin-top: $example-frame-spacing;
  margin-bottom: $pt-grid-size * 4;
  border-radius: $example-frame-border-radius;

  &.#{$ns}-button {
    height: $pt-button-height-large;
    transition: background-color $pt-transition-duration $pt-transition-ease;
  }

  &:not(:hover):not(:active) {
    background-color: $code-background-color;

    .#{$ns}-dark & {
      background-color: $dark-code-background-color;
    }
  }
}

// colors for CSS modifiers
.#{$ns}-code[data-modifier^=":"] {
  color: $attribute-modifier-color;
}

.#{$ns}-code[data-modifier^="."] {
  color: $class-modifier-color;
}
