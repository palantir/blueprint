// Copyright 2015 Palantir Technologies, Inc. All rights reserved.
// Licensed under the terms of the LICENSE file distributed with this project.

@import "~@blueprintjs/core/src/common/variables";

// Generate a selector for a page ID by reference
@function page($ref, $comparator: "$=") {
  @return '[data-page-id#{$comparator}"#{$ref}"]';
}

// Generate a selector for a React example by name
@function example($NameExample, $comparator: "=") {
  @return '[data-example-id#{$comparator}"#{$NameExample}"]';
}

// CSS examples

#{page("forms/form-group")} {
  .docs-example .#{$ns}-form-group:last-child {
    margin-bottom: 0;
  }
}

#{page("forms/label")},
#{page("forms/select-forms")} {
  .docs-example .#{$ns}-label:last-child {
    margin-bottom: 0;
  }
}

#{page("navbar")} {
  .#{$ns}-navbar {
    margin: 0;
  }
}

#{page("table-html")} {
  .docs-example {
    padding: $pt-grid-size;
  }

  .#{$ns}-html-table {
    margin: $pt-grid-size;
  }
}

#{page("tree")} .#{$ns}-tree {
  width: $pt-grid-size * 35;
}

// React examples

#{example("CollapseExample")} {
  .docs-example {
    justify-content: unset;
  }

  .#{$ns}-code-block {
    width: $pt-grid-size * 40;
    overflow: hidden;
  }
}

#{example("HotkeyPiano")} {
  .docs-hotkey-piano-example {
    opacity: 0.4;
    transition: opacity ($pt-transition-duration * 2) $pt-transition-ease;

    &:hover {
      opacity: 0.6;
      cursor: pointer;
    }

    &:focus {
      opacity: 1;
      cursor: default;
    }
  }
}

#{example("HotkeyTester")} {
  .docs-hotkey-tester {
    @include pt-flex-container(column, $pt-grid-size);
    flex: 1 1;
    align-items: center;
    justify-content: space-around;
    opacity: 0.4;
    border: 2px solid rgba($gray3, 0.8);
    border-radius: $pt-border-radius * 2;
    background: rgba($gray3, 0.2);
    max-width: 70%;
    min-height: $pt-grid-size * 12;
    padding: $pt-grid-size * 2;
    transition: all $pt-transition-duration $pt-transition-ease;

    &:hover {
      opacity: 0.6;
      cursor: pointer;
    }

    &:focus {
      opacity: 1;
      border: 2px solid rgba($blue3, 0.6);
      background: rgba($blue3, 0.1);
      cursor: default;
      color: map-get($pt-intent-text-colors, "primary");

      .#{$ns}-dark & {
        border: 2px solid rgba($blue4, 0.6);
        background: rgba($blue4, 0.1);
        color: map-get($pt-dark-intent-text-colors, "primary");
      }
    }
  }
}

#{example("NumericInputExtendedExample")} {
  .#{$ns}-numeric-input input {
    width: $pt-grid-size * 23;
  }
}

// give all Table examples a fixed height
#{page("table", "^=")} {
  .docs-example-frame {
    flex-direction: column;
  }

  .docs-example-options {
    margin-top: $pt-grid-size;
    margin-left: 0;
    max-width: unset;
  }

  // make all tables the same width
  .#{$ns}-table-container {
    width: 100%;
    height: $pt-grid-size * 36;
  }
}
